<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Buy Shares</title>
    <link rel="stylesheet" type="text/css" th:href="@{/css/buy_shares.css}"/>
</head>

<body>
<nav>
    <ul>
        <li><a th:href="@{/home/users/{id}(id=${session.id})}">Home</a></li>
        <li><a href="/shares/company-profile">Dashboard</a></li>
        <li><a href="/shares/buy">Buy Shares</a></li>
        <li><a href="/shares/sell">Sell Shares</a></li>
        <li><a href="/transactions">Transaction History</a></li>
        <li><a href="/convert">Currency Conversion</a></li>
        <li><a href="/logout">Logout</a></li>
    </ul>
    <h4>Welcome, <span th:text="${session.name}"></span>!</h4>
    <h4>Balance: GBP <span th:text="${walletBalance}"></span> </h4>
    <button><a href="/wallet/top-up"> Wallet Top up</a></button>
</nav>
<div class="parent-container">
    <div class="container">

        <!-- TradingView Widget BEGIN -->
        <div class="tradingvie-widget-container">
            <div class="tradingvie-widget-container__widget"></div>
            <div class="tradingvie-widget-copyright"><a href="https://www.tradingview.com/screener/" rel="noopener" target="_blank"><span class="blue-text"></span></a></div>
            <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-screener.js" async>
                {
                    "width": 900,
                    "height": 550,
                    "defaultColumn": "overview",
                    "defaultScreen": "most_capitalized",
                    "market": "america",
                    "showToolbar": true,
                    "colorTheme": "dark",
                    "locale": "en"
                }
            </script>
        </div>
        <!-- TradingView Widget END -->
</div>


    <div class="dashboard-container">
<h1>Buy Shares</h1>

<div th:if="${message != null}" th:text="${message}"></div>

<form action="/shares/buy" method="POST">
    <label for="symbol">Symbol:</label>
    <input type="text" id="symbol" name="symbol" required>

    <label for="quantity">Quantity:</label>
    <input type="number" id="quantity" name="quantity" required>

    <button type="submit">Buy</button>
</form>
    </div>
</div>

<!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
    <div class="tradingview-widget-container__widget"></div>
    <div class="tradingview-widget-copyright"><a href="https://www.tradingview.com/markets/" rel="noopener" target="_blank"><span class="blue-text"></span></a></div>
    <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
        {
            "symbols": [
            {
                "description": "Tesla",
                "proName": "NASDAQ:TSLA"
            },
            {
                "description": "Apple",
                "proName": "NASDAQ:AAPL"
            },
            {
                "description": "Amazon",
                "proName": "NASDAQ:AMZN"
            },
            {
                "description": "Meta",
                "proName": "NASDAQ:META"
            },
            {
                "description": "Microsoft",
                "proName": "NASDAQ:MSFT"
            },
            {
                "description": "Netflix",
                "proName": "NASDAQ:NFLX"
            },
            {
                "description": "Google",
                "proName": "NASDAQ:GOOGL"
            }
        ],
            "showSymbolLogo": true,
            "colorTheme": "dark",
            "isTransparent": false,
            "displayMode": "adaptive",
            "locale": "en"
        }
    </script>
</div>
<!-- TradingView Widget END -->
</body>

</html>
